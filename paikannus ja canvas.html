<!DOCTYPE html>
<html>
<head>
    
    <meta charset="utf-8">
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    
    <title></title>
</head>  
    
    
<body>
    
    <article>
        
    </article>
    
    <script>
    if (navigator.geolocation) {     
           navigator.geolocation.getCurrentPosition(success);   
          } else {     
          error('Sijaintiasi ei voi paikantaa');   
          }
        
function success(position) {     
  // tehdään div-elementti canvas-piirtopohjaksi
  var mapcanvas = document.createElement('div');

      // määritellään canvasin id-tunnus, koko ja sijainti   
      mapcanvas.id = 'kartta';   
      mapcanvas.style.height = '400px';   
      mapcanvas.style.width = '600px';      
      document.querySelector('article').appendChild(mapcanvas); 

      // haetaan kävijän koordinaatit
      var coords = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);    

      // määritellään kartan ominaisuudet      
      var options = {       
            zoom: 15,       
            center: coords,       
            mapTypeControl: false,       
            navigationControlOptions: {       	
                 style: google.maps.NavigationControlStyle.SMALL       
                 },       
            mapTypeId: google.maps.MapTypeId.ROADMAP     
            };  

       // haetaan kartta
       var map = new google.maps.Map(document.getElementById("kartta"), options);

       //piirretään google-karttaan sijainti        
       var marker = new google.maps.Marker({         
                        position: coords,         
                        map: map         
              
                     });   
       }
    </script>
</body>    
    
    
</html>